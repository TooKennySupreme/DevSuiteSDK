; WIP Last Changed Rev: 5482
;**************************************************************************************       
; Copyright 2009 Aptina Imaging Corporation. All rights reserved.                             
;                                                                                             
;                                                                                             
; No permission to use, copy, modify, or distribute this software and/or                      
; its documentation for any purpose has been granted by Aptina Imaging Corporation.           
; If any such permission has been granted ( by separate agreement ), it                       
; is required that the above copyright notice appear in all copies and                        
; that both that copyright notice and this permission notice appear in                        
; supporting documentation, and that the name of Aptina Imaging Corporation or any            
; of its trademarks may not be used in advertising or publicity pertaining                    
; to distribution of the software without specific, written prior permission.                 
;                                                                                             
;                                                                                             
;      This software and any associated documentation are provided "AS IS" and                
;      without warranty of any kind.   APTINA IMAGING CORPORATION EXPRESSLY DISCLAIMS         
;      ALL WARRANTIES EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO, NONINFRINGEMENT       
;      OF THIRD PARTY RIGHTS, AND ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS        
;      FOR A PARTICULAR PURPOSE.  APTINA DOES NOT WARRANT THAT THE FUNCTIONS CONTAINED        
;      IN THIS SOFTWARE WILL MEET YOUR REQUIREMENTS, OR THAT THE OPERATION OF THIS SOFTWARE   
;      WILL BE UNINTERRUPTED OR ERROR-FREE.  FURTHERMORE, APTINA DOES NOT WARRANT OR          
;      MAKE ANY REPRESENTATIONS REGARDING THE USE OR THE RESULTS OF THE USE OF ANY            
;      ACCOMPANYING DOCUMENTATION IN TERMS OF ITS CORRECTNESS, ACCURACY, RELIABILITY,         
;      OR OTHERWISE.                                                                          
;*************************************************************************************/       
; Default INI file for A-2030SOC-REV3 (Chip ID 0x2580)
;
; $Revision: 33780 $
; $Date: 2012-10-25 17:45:47 -0700 (Thu, 25 Oct 2012) $
;
; This file holds groups of register presets (sections) specific for this sensor. The 
; presets allow you to overwrite the power-on default settings with optimized register 
; settings. 
; The [Demo Initialization] section contains all optimized register settings for running
; the sensor in the demo environment. Other sections include settings optimized for a
; variety of situations like: Running at different master clock speeds, running under
; different lighting situations, running with different lenses, etc.
; Most of the demonstration software (DevWare, SensorDemo, ...) make use of this file
; to load and store the user presets.
;
; Keyname description:
; REG      = assign a new register value
; BITFIELD = do a READ-MODIFY-WRITE to part of a register. The part is defined as a mask.
; FIELD_WR = Write any register, variable or bitfield, specified by its symbol name
; LOAD     = load an alternate section from this section
; STATE    = set non-register state
; DELAY    = delay a certain amount of milliseconds before continuing 
; POLL_REG = Read a register a specified number of times, or until the register
;            value no longer meets a specified condition. You specify the
;            register by its address, and it only works with simple registers.
;            You also specify a delay between each iteration of the loop.
; POLL_FIELD = Like POLL_REG except you specify the register by its symbol name
;            as defined in the sensor data file. POLL_FIELD works with any kind
;            of register or variable.
;
; Keyname format:
; REG      = [<page>,] <address>, <value>             //<comment>
; BITFIELD = [<page>,] <address>, <mask>, <value>
;            Some examples: 
;            BITFIELD=2, 0x05, 0x0020, 1 //for register 5 on page 2, set the 6th bit to 1
;            BITFIELD=0x06, 0x000F, 0    //for register 6, clear the first 4 bits
; FIELD_WR = <registername>, [<bitfieldname>,] <value>
; LOAD     = <section>
; STATE    = <state>, <value>
; DELAY    = <milliseconds>
; POLL_REG = [<page>,]<address>,<mask>,<condition>,DELAY=<milliseconds>,TIMEOUT=<count> //<comment>
;            Example:  Poll every 50ms, stop when value <= 8 or after 5 times (250ms).
;            POLL_REG= 2, 0x3F, 0xFFFF, >8, DELAY=50, TIMEOUT=5
; POLL_FIELD = <registername>, [<bitfieldname>,] <condition>, DELAY=<milliseconds>, TIMEOUT=<count> //<comment>
;            Example:  Poll every 10 ms, stop when the value = 0, or after 500ms.
;            POLL_FIELD= SEQ_CMD, !=0, DELAY=10, TIMEOUT=50
;
; <page>         Optional address space for this register. Some sensors (mostly SOC's)
;                have multiple register pages (see the sensor spec or developer's guide)
; <address>      the register address
; <value>        the new value to assign to the register
; <mask>         is the part of a register value that needs to be updated with a new value
; <registername> Name of a register or variable as defined the sensor data (.sdat) file
; <bitfieldname> Optional name of a bitfield
; <condition>    <  <=  ==  !=  >  or  >=  followed by a numerical value
; <count>        Number of iterations of the polling loop
; <section>      the name of another section to load
; <state>        non-register program state names [do not modify]
; <milliseconds> wait for this ammount of milliseconds before continuing 
; <comment>      Some form of C-style comments are supported in this .ini file
;
;*************************************************************************************/

///////////////////////////////////////////////////////////////////////////////
[Demo Initialization]////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

// Set Demo2 clock in case it is used as the SOC2030 clock source
XMCLK=24000000

// Soft-reset the part in case it is in an unknown state due to
// Devware probing (to determine what the part is).  This is not
// necessary in a customer system.
//--Seems to be unnecessary on REV3--
//LOAD=Reset

// Reset the sensor
STATE=Sensor Reset, 1
STATE=Sensor Reset, 0

// select pixel data output
BITFIELD=0x001A, 0x0008, 0 // parallel

// Do the rest of the basic initialization.
LOAD=Basic Init

// Resync FPS reporting
DELAY= 20
STATE= Detect Master Clock, 1

///////////////////////////////////////////////////////////////////////////////
[Demo Initialization MIPI YCbCr- Dual Lane Mipi adaptor board]///////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

// Set Demo2 clock in case it is used as the SOC2030 clock source
XMCLK=24000000

// Reset the sensor
STATE=Sensor Reset, 1
STATE=Sensor Reset, 0

LOAD=Reset

// select output interface
BITFIELD=0x001A, 0x0200, 0 // disable Parallel
BITFIELD=0x001A, 0x0008, 1 // MIPI

// Do the rest of the basic initialization.
LOAD=Basic Init
REG = 0x0012, 0x00F5        //wcd = 8
// continue after powerup stop
LOAD=Continue

// Resync FPS reporting
DELAY= 20
STATE= Detect Master Clock, 1

///////////////////////////////////////////////////////////////////////////////
[Demo Initialization MIPI Bayer- Dual Lane Mipi adaptor board]///////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

// Set Demo2 clock in case it is used as the SOC2031 clock source
XMCLK=24000000

// Reset the sensor
STATE=Sensor Reset, 1
STATE=Sensor Reset, 0

// select output interface
BITFIELD=0x001A, 0x0200, 0 // disable Parallel
BITFIELD=0x001A, 0x0008, 1 // MIPI

// program the on-chip PLL
REG = 0x0014, 0x21F9	//PLL Control: BYPASS PLL = 8697

// mipi timing for Bayer10 (clk_txfifo_wr = 42.5/21.25Mhz; clk_txfifo_rd = 51Mhz)
REG = 0x0010, 0x0115        //PLL Dividers = 277
REG = 0x0012, 0x10F5        //wcd = 10

REG = 0x0014, 0x2545	//PLL Control: TEST_BYPASS on = 9541
REG = 0x0014, 0x2547	//PLL Control: PLL_ENABLE on = 9543
REG = 0x0014, 0x2447	//PLL Control: SEL_LOCK_DET on
DELAY = 1               //Delay 1ms to allow PLL to lock
REG = 0x0014, 0x2047	//PLL Control: PLL_BYPASS off
REG = 0x0014, 0x2046	//PLL Control: TEST_BYPASS off


// set powerup stop bit
BITFIELD=0x0018, 0x0004, 1

// release MCU from standby
BITFIELD=0x0018, 0x0001, 0

// wait for R20B to come out of standby
POLL_REG=0x0018,0x4000,!=0x0000,DELAY=10,TIMEOUT=100

// sensor core & flicker timings
// Register Wizard Defaults: Sensor Core Timing 4 MIPI
VAR  = 7, 0x3, 0x0320	//Output Width (A) = 800
VAR  = 7, 0x5, 0x0258	//Output Height (A) = 600
VAR  = 7, 0x7, 0x0640	//Output Width (B) = 1600
VAR  = 7, 0x9, 0x04B0	//Output Height (B) = 1200
VAR  = 7, 0xD, 0x000	//Row Start (A) = 0
VAR  = 7, 0xF, 0x000	//Column Start (A) = 0
VAR  = 7, 0x11, 0x4BD	//Row End (A) = 1213
VAR  = 7, 0x13, 0x64D	//Column End (A) = 1613
VAR  = 7, 0x15, 0x0111	//Row Speed (A) = 273
VAR  = 7, 0x17, 0x046C	//Read Mode (A) = 1132
VAR  = 7, 0x19, 0x005A	//sensor_fine_correction (A) = 90
VAR  = 7, 0x1B, 0x01BE	//sensor_fine_IT_min (A) = 446
VAR  = 7, 0x1D, 0x0131	//sensor_fine_IT_max_margin (A) = 305


// mipi timing
FIELD_WR= MODE_SENSOR_FRAME_LENGTH_A,       699    // Frame Lines (A) = 699
FIELD_WR= MODE_SENSOR_LINE_LENGTH_PCK_A,   2184    // Line Length (A) = 2184


VAR  = 7, 0x23, 0x004	//Row Start (B) = 4
VAR  = 7, 0x25, 0x004	//Column Start (B) = 4
VAR  = 7, 0x27, 0x4BB	//Row End (B) = 1211
VAR  = 7, 0x29, 0x64B	//Column End (B) = 1611
VAR  = 7, 0x2B, 0x0111	//Row Speed (B) = 273
VAR  = 7, 0x2D, 0x0024	//Read Mode (B) = 36

VAR  = 7, 0x2F, 0x003A	//sensor_fine_correction (B) = 58
VAR  = 7, 0x31, 0x00F6	//sensor_fine_IT_min (B) = 246
VAR  = 7, 0x33, 0x008B	//sensor_fine_IT_max_margin (B) = 139


// mipi timing
FIELD_WR= MODE_SENSOR_FRAME_LENGTH_B,      1313    // Frame Lines (B) = 1313
FIELD_WR= MODE_SENSOR_LINE_LENGTH_PCK_B,   2184    // Line Length (B) = 2184


VAR  = 7, 0x39, 0x0000	//Crop_X0 (A) = 0
VAR  = 7, 0x3B, 0x031F	//Crop_X1 (A) = 799
VAR  = 7, 0x3D, 0x0000	//Crop_Y0 (A) = 0
VAR  = 7, 0x3F, 0x0257	//Crop_Y1 (A) = 599
VAR  = 7, 0x47, 0x0000	//Crop_X0 (B) = 0
VAR  = 7, 0x49, 0x063F	//Crop_X1 (B) = 1599
VAR  = 7, 0x4B, 0x0000	//Crop_Y0 (B) = 0
VAR  = 7, 0x4D, 0x04AF	//Crop_Y1 (B) = 1199


// mipi timing
FIELD_WR= AE_R9,            160   // R9 Step = 160
FIELD_WR= FD_SEARCH_F1_50,   38   // search_f1_50 = 38
FIELD_WR= FD_SEARCH_F2_50,   41   // search_f2_50 = 41
FIELD_WR= FD_SEARCH_F1_60,   46   // search_f1_60 = 46
FIELD_WR= FD_SEARCH_F2_60,   49   // search_f2_60 = 49
FIELD_WR= FD_R9_STEP_F60_A, 160   // R9_Step_60 (A) = 160
FIELD_WR= FD_R9_STEP_F50_A, 192   // R9_Step_50 (A) = 192
FIELD_WR= FD_R9_STEP_F60_B, 160   // R9_Step_60 (B) = 160
FIELD_WR= FD_R9_STEP_F50_B, 192   // R9_Step_50 (B) = 192


VAR8 = 4, 0x4, 0x10	//FD Mode = 16
VAR8 = 4, 0xD, 0x02	//Stat_min = 2
VAR8 = 4, 0xE, 0x03	//Stat_max = 3
VAR8 = 4, 0x10, 0x0A	//Min_amplitude = 10

// Firmware is being suspended permanently in this case
// and the user has total control for all the registers
// in CORE, SOC1, and SOC2 pages
FIELD_WR=OFIFO_CONTROL_STATUS, SENSOR_BYPASS, 1 // sensor core
FIELD_WR=MIPI_CONTROL, DATA_TYPE, 0x2B	// mipi data type = RAW10
BITFIELD= 0x321E, 0x03FF, 0xD0 	// watermark
FIELD_WR=LINE_BYTE_CNT, 2010 // mipi line width in bytes (full resolution) = 1608*5/4

// start streaming
BITFIELD= 0x301A, 0x0004, 0x1

// Resync FPS reporting
DELAY= 20
STATE= Detect Master Clock, 1

///////////////////////////////////////////////////////////////////////////////
[Reset]////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

// toggle the SOC soft reset bit
BITFIELD=0x001A, 0x0001, 1
BITFIELD=0x001A, 0x0001, 0

///////////////////////////////////////////////////////////////////////////////
[Toolbar: 720p - 30 FPS]
///////////////////////////////////////////////////////////////////////////////

ICON= icons\green-720-24.bmp
// 720P/30FPS - 1280x720 at 30 fps
TOOLTIP="Enable 720p (1290x720) at 30fps"
LOAD=Viewfinder ON
LOAD=720p settings

///////////////////////////////////////////////////////////////////////////////
[Basic Init]///////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

// set the system clock generated from PLL
// 24MHz CLKIN, 84 MHz PLL out
// 15fps @ full resolution and 30fps @ preview mode
LOAD=MT9D113 (SOC2030) Register Wizard PLL Defaults

// enable powerup stop
LOAD=MCU Powerup Stop Enable

// start MCU, includes wait for standby_done to clear
LOAD=GO

LOAD=MT9D113 (SOC2030) Register Wizard Configuration Defaults

// Load PGA curve from EEPROM
LOAD=EEPROM Lens Correction

// Low light setting
LOAD=Low light setting

// AWB and CCM settings
LOAD=AWB and CCMs       // REFRESH command is applied here

// Load the patch
LOAD=SOC2030_patch

// continue after powerup stop
LOAD=Continue

// trigger DevWare to recompute the clock speed
STATE= Detect Master Clock, 1


///////////////////////////////////////////////////////////////////////////////
[MT9D113 (SOC2030) Register Wizard PLL Defaults]///////////////////////////////
///////////////////////////////////////////////////////////////////////////////
// 24MHz CLKIN, 84 MHz PLL out
// 15fps @ full resolution and 30fps @ preview mode
REG = 0x0014, 0x21F9        //PLL control: BYPASS PLL = 8697
REG = 0x0010, 0x0115        //PLL Dividers = 277
REG = 0x0012, 0x00F5        //PLL P Dividers = 245
REG = 0x0014, 0x21FB        //PLL control: PLL_ENABLE on = 8699
REG = 0x0014, 0x20FB        //PLL control: SEL_LOCK_DET on = 8443
POLL_REG=0x0014,0x8000,==0x0000,DELAY=10,TIMEOUT=100
REG = 0x0014, 0x20FA        //PLL control: PLL_BYPASS off = 8442

///////////////////////////////////////////////////////////////////////////////
[720p settings]
///////////////////////////////////////////////////////////////////////////////
STATE=Sensor Reset, 1
STATE=Sensor Reset, 0
REG = 0x0014, 0x21F9	//PLL Control: BYPASS PLL = 8697
REG = 0x0010, 0x011C	//PLL Dividers = 284
REG = 0x0012, 0x1FF7	//PLL P Dividers = 8183
REG = 0x0014, 0x21FB	//PLL Control: PLL_ENABLE on = 8699
REG = 0x0014, 0x20FB	//PLL Control: SEL_LOCK_DET on = 8443
DELAY = 1               // Allow PLL to lock
REG = 0x0014, 0x20FA	//PLL Control: PLL_BYPASS off = 8442
BITFIELD = 0x001A, 0x0008, 0x0000	//PLL Reset Control: OUTPUT, bits 0x0008 = 0
BITFIELD = 0x0018, 0x0001, 0x0000	//PLL Standby: Out of Standby, bits 0x0001 = 0
REG = 0x321C, 0x0003	//By Pass TxFIFO = 3

//VAR  = 7, 0x3, 0x0320	//Output Width (A) = 800
FIELD_WR= MODE_OUTPUT_WIDTH_A, 0x0500 	// VAR= 7, 0x0003, 0x0500

//VAR  = 7, 0x5, 0x0258	//Output Height (A) = 600
FIELD_WR= MODE_OUTPUT_HEIGHT_A, 0x02D0 	// VAR= 7, 0x0005, 0x02D0

VAR  = 7, 0x7, 0x0640	//Output Width (B) = 1600
VAR  = 7, 0x9, 0x04B0	//Output Height (B) = 1200

//VAR  = 7, 0xD, 0x000	//Row Start (A) = 0
FIELD_WR= MODE_SENSOR_ROW_START_A, 0x0004 	// VAR= 7, 0x000D, 0x0004

//VAR  = 7, 0xF, 0x000	//Column Start (A) = 0
FIELD_WR= MODE_SENSOR_COL_START_A, 0x0004 	// VAR= 7, 0x000F, 0x0004

//VAR  = 7, 0x11, 0x4BD	//Row End (A) = 1213
FIELD_WR= MODE_SENSOR_ROW_END_A, 0x02DB 	// VAR= 7, 0x0011, 0x02DB

//VAR  = 7, 0x13, 0x64D	//Column End (A) = 1613
FIELD_WR= MODE_SENSOR_COL_END_A, 0x050B 	// VAR= 7, 0x0013, 0x050B

VAR  = 7, 0x15, 0x0111	//Row Speed (A) = 273

//VAR  = 7, 0x17, 0x046C	//Read Mode (A) = 1132
FIELD_WR= MODE_SENSOR_READ_MODE_A, 0x0024 	// VAR= 7, 0x0017, 0x0024

//VAR  = 7, 0x19, 0x005A	//sensor_fine_correction (A) = 90
FIELD_WR= MODE_SENSOR_FINE_CORRECTION_A, 0x003A 	// VAR= 7, 0x0019, 0x003A

//VAR  = 7, 0x1B, 0x01BE	//sensor_fine_IT_min (A) = 446
FIELD_WR= MODE_SENSOR_FINE_IT_MIN_A, 0x00F6 	// VAR= 7, 0x001B, 0x00F6

//VAR  = 7, 0x1D, 0x0131	//sensor_fine_IT_max_margin (A) = 305
FIELD_WR= MODE_SENSOR_FINE_IT_MAX_MARGIN_A, 0x008B 	// VAR= 7, 0x001D, 0x008B

//VAR  = 7, 0x1F, 0x02E7	//Frame Lines (A) = 743
FIELD_WR= MODE_SENSOR_FRAME_LENGTH_A, 0x032D 	// VAR= 7, 0x001F, 0x032D

//VAR  = 7, 0x21, 0x0807	//Line Length (A) = 2055
FIELD_WR= MODE_SENSOR_LINE_LENGTH_PCK_A, 0x06BA 	// VAR= 7, 0x0021, 0x06BA


VAR  = 7, 0x23, 0x004	//Row Start (B) = 4
VAR  = 7, 0x25, 0x004	//Column Start (B) = 4
VAR  = 7, 0x27, 0x4BB	//Row End (B) = 1211
VAR  = 7, 0x29, 0x64B	//Column End (B) = 1611
VAR  = 7, 0x2B, 0x0111	//Row Speed (B) = 273
VAR  = 7, 0x2D, 0x0024	//Read Mode (B) = 36
VAR  = 7, 0x2F, 0x003A	//sensor_fine_correction (B) = 58
VAR  = 7, 0x31, 0x00F6	//sensor_fine_IT_min (B) = 246
VAR  = 7, 0x33, 0x008B	//sensor_fine_IT_max_margin (B) = 139
VAR  = 7, 0x35, 0x050D	//Frame Lines (B) = 1293
VAR  = 7, 0x37, 0x0807	//Line Length (B) = 2055
VAR  = 7, 0x39, 0x0000	//Crop_X0 (A) = 0

//VAR  = 7, 0x3B, 0x031F	//Crop_X1 (A) = 799
FIELD_WR= MODE_CROP_X1_A, 0x04FF 	// VAR= 7, 0x003B, 0x04FF

VAR  = 7, 0x3D, 0x0000	//Crop_Y0 (A) = 0

//VAR  = 7, 0x3F, 0x0257	//Crop_Y1 (A) = 599
FIELD_WR= MODE_CROP_Y1_A, 0x02CF 	// VAR= 7, 0x003F, 0x02CF

VAR  = 7, 0x47, 0x0000	//Crop_X0 (B) = 0
VAR  = 7, 0x49, 0x063F	//Crop_X1 (B) = 1599
VAR  = 7, 0x4B, 0x0000	//Crop_Y0 (B) = 0
VAR  = 7, 0x4D, 0x04AF	//Crop_Y1 (B) = 1199
VAR  = 2, 0x2D, 0x00AA	//R9 Step = 170
VAR8 = 4, 0x8, 0x29	//search_f1_50 = 41
VAR8 = 4, 0x9, 0x2B	//search_f2_50 = 43
VAR8 = 4, 0xA, 0x32	//search_f1_60 = 50
VAR8 = 4, 0xB, 0x34	//search_f2_60 = 52
VAR  = 4, 0x11, 0x00AA	//R9_Step_60 (A) = 170
VAR  = 4, 0x13, 0x00CC	//R9_Step_50 (A) = 204
VAR  = 4, 0x15, 0x00AA	//R9_Step_60 (B) = 170
VAR  = 4, 0x17, 0x00CC	//R9_Step_50 (B) = 204
VAR8 = 4, 0x4, 0x10	//FD Mode = 16
VAR8 = 4, 0xD, 0x02	//Stat_min = 2
VAR8 = 4, 0xE, 0x03	//Stat_max = 3
VAR8 = 4, 0x10, 0x0A	//Min_amplitude = 10
VAR8 = 1, 0x3, 0x06	//Refresh Sequencer Mode = 6
POLL_FIELD=SEQ_CMD, !=0, DELAY=10, TIMEOUT=100  // wait for command to be processed
VAR8 = 1, 0x3, 0x05	//Refresh Sequencer = 5
POLL_FIELD=SEQ_CMD, !=0, DELAY=10, TIMEOUT=100  // wait for command to be processed

[30fps fixed frame rate]
FIELD_WR= AE_MAX_INDEX, 0x04 	// VAR8= 2, 0x000C, 0x04
FIELD_WR= SEQ_CMD, 0x05 	// VAR8= 1, 0x0003, 0x05


[30fps variable frame rate]
FIELD_WR= AE_MAX_INDEX, 0x0E 	// VAR8= 2, 0x000C, 0x0E
FIELD_WR= SEQ_CMD, 0x05 	// VAR8= 1, 0x0003, 0x05




///////////////////////////////////////////////////////////////////////////////
[MCU Powerup Stop Enable]//////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
// set powerup stop bit
BITFIELD=0x0018, 0x0004, 1

///////////////////////////////////////////////////////////////////////////////
[GO]///////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
// release MCU from standby
BITFIELD=0x0018, 0x0001, 0

// wait for R20B to come out of standby
POLL_REG=0x0018,0x4000,!=0x0000,DELAY=10,TIMEOUT=100

///////////////////////////////////////////////////////////////////////////////
[Continue]/////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
// clear powerup stop bit
BITFIELD=0x0018, 0x0004, 0

// wait for sequencer to enter preview state
POLL_FIELD=SEQ_STATE,!=3,DELAY=10,TIMEOUT=100

// syncronize the FW with the sensor
FIELD_WR=SEQ_CMD, 6

///////////////////////////////////////////////////////////////////////////////
[MT9D113 (SOC2030) Register Wizard Configuration Defaults]/////////////////////
///////////////////////////////////////////////////////////////////////////////
// Edited to remove values that are equal to defaults.
FIELD_WR= MODE_SENSOR_FINE_CORRECTION_A,     90    // sensor_fine_correction (A) = 90
FIELD_WR= MODE_SENSOR_FINE_IT_MIN_A,        446    // sensor_fine_IT_min (A) = 446
FIELD_WR= MODE_SENSOR_FINE_IT_MAX_MARGIN_A, 305    // sensor_fine_IT_max_margin (A) = 305
FIELD_WR= MODE_SENSOR_FRAME_LENGTH_A,       699    // Frame Lines (A) = 699
FIELD_WR= MODE_SENSOR_LINE_LENGTH_PCK_A,   2184    // Line Length (A) = 2184
FIELD_WR= MODE_SENSOR_FINE_CORRECTION_B,     58    // sensor_fine_correction (B) = 58
FIELD_WR= MODE_SENSOR_FINE_IT_MIN_B,        246    // sensor_fine_IT_min (B) = 246
FIELD_WR= MODE_SENSOR_FINE_IT_MAX_MARGIN_B, 139    // sensor_fine_IT_max_margin (B) = 139
FIELD_WR= MODE_SENSOR_FRAME_LENGTH_B,      1313    // Frame Lines (B) = 1313
FIELD_WR= MODE_SENSOR_LINE_LENGTH_PCK_B,   2184    // Line Length (B) = 2184

FIELD_WR= MODE_COMMONMODESETTINGS_BRIGHT_COLOR_KILL, 404  // VAR= 7, 0x005F, 404
FIELD_WR= MODE_COMMONMODESETTINGS_DARK_COLOR_KILL,    20
FIELD_WR= MODE_COMMONMODESETTINGS_FILTER_MODE,        68  // VAR8= 7, 0x0065, 68

FIELD_WR= AE_BASETARGET,     40   // VAR8= 2, 0x004F, 40
FIELD_WR= AE_MAX_VIRTGAIN,  160   // AE_MAX_VIRTGAIN decreased to ensure gain does not roll over in normal lighting
FIELD_WR= AE_MAX_INDEX,      14   // VAR8= 2, 0x000C, 19 sets fps to be a low of 5fps
FIELD_WR= AE_R9,            160   // R9 Step = 160
FIELD_WR= AE_MAX_DGAIN_AE1, 494   // ae_max_dgain_ae1 = 494

FIELD_WR= FD_SEARCH_F1_50,   38   // search_f1_50 = 38
FIELD_WR= FD_SEARCH_F2_50,   41   // search_f2_50 = 41
FIELD_WR= FD_SEARCH_F1_60,   46   // search_f1_60 = 46
FIELD_WR= FD_SEARCH_F2_60,   49   // search_f2_60 = 49
FIELD_WR= FD_R9_STEP_F60_A, 160   // R9_Step_60 (A) = 160
FIELD_WR= FD_R9_STEP_F50_A, 192   // R9_Step_50 (A) = 192
FIELD_WR= FD_R9_STEP_F60_B, 160   // R9_Step_60 (B) = 160
FIELD_WR= FD_R9_STEP_F50_B, 192   // R9_Step_50 (B) = 192

///////////////////////////////////////////////////////////////////////////////
[SOC2030_patch]//////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
//  K25A_REV03_PATCH01_REV5
REG= 0x098C, 0x415
REG_BURST= 0x990, 0xF601, 0x42C1, 0x326, 0x11F6, 0x143, 0xC104, 0x260A, 0xCC04
REG= 0x098C, 0x425
REG_BURST= 0x990, 0x33BD, 0xA362, 0xBD04, 0x3339, 0xC6FF, 0xF701, 0x6439, 0xDE5D
REG= 0x098C, 0x435
REG_BURST= 0x990, 0x18CE, 0x325, 0xCC00, 0x27BD, 0xC2B8, 0xCC04, 0xBDFD, 0x33B
REG= 0x098C, 0x445
REG_BURST= 0x990, 0xCC06, 0x6BFD, 0x32F, 0xCC03, 0x25DD, 0x5DC6, 0x1ED7, 0x6CD7
REG= 0x098C, 0x455
REG_BURST= 0x990, 0x6D5F, 0xD76E, 0xD78D, 0x8620, 0x977A, 0xD77B, 0x979A, 0xC621
REG= 0x098C, 0x465
REG_BURST= 0x990, 0xD79B, 0xFE01, 0x6918, 0xCE03, 0x4DCC, 0x13, 0xBDC2, 0xB8CC
REG= 0x098C, 0x475
REG_BURST= 0x990, 0x5E9, 0xFD03, 0x4FCC, 0x34D, 0xFD01, 0x69FE, 0x2BD, 0x18CE
REG= 0x098C, 0x485
REG_BURST= 0x990, 0x361, 0xCC00, 0x11BD, 0xC2B8, 0xCC06, 0x28FD, 0x36F, 0xCC03
REG= 0x098C, 0x495
REG_BURST= 0x990, 0x61FD, 0x2BD, 0xDE00, 0x18CE, 0xC2, 0xCC00, 0x37BD, 0xC2B8
REG= 0x098C, 0x4A5
REG_BURST= 0x990, 0xCC06, 0x4FDD, 0xE6CC, 0xC2, 0xDD00, 0xC601, 0xF701, 0x64C6
REG= 0x098C, 0x4B5
REG_BURST= 0x990, 0x5F7, 0x165, 0x7F01, 0x6639, 0x373C, 0x3C3C, 0x3C3C, 0x30EC
REG= 0x098C, 0x4C5
REG_BURST= 0x990, 0x11ED, 0x2EC, 0xFED, 0x8F, 0x30ED, 0x4EC, 0xDEE, 0x4BD
REG= 0x098C, 0x4D5
REG_BURST= 0x990, 0xA406, 0x30EC, 0x2ED, 0x6FC, 0x10C0, 0x2705, 0xCCFF, 0xFFED
REG= 0x098C, 0x4E5
REG_BURST= 0x990, 0x6F6, 0x256, 0x8616, 0x3DC3, 0x261, 0x8FE6, 0x9C4, 0x7C1
REG= 0x098C, 0x4F5
REG_BURST= 0x990, 0x226, 0x1DFC, 0x10C2, 0x30ED, 0x2FC, 0x10C0, 0xED00, 0xC602
REG= 0x098C, 0x505
REG_BURST= 0x990, 0xBDC2, 0x5330, 0xEC00, 0xFD10, 0xC0EC, 0x2FD, 0x10C2, 0x201B
REG= 0x098C, 0x515
REG_BURST= 0x990, 0xFC10, 0xC230, 0xED02, 0xFC10, 0xC0ED, 0xC6, 0x1BD, 0xC253
REG= 0x098C, 0x525
REG_BURST= 0x990, 0x30EC, 0xFD, 0x10C0, 0xEC02, 0xFD10, 0xC2C6, 0x80D7, 0x85C6
REG= 0x098C, 0x535
REG_BURST= 0x990, 0x40F7, 0x10C4, 0xF602, 0x5686, 0x163D, 0xC302, 0x618F, 0xEC14
REG= 0x098C, 0x545
REG_BURST= 0x990, 0xFD10, 0xC501, 0x101, 0x101, 0xFC10, 0xC2DD, 0x7FFC, 0x10C7
REG= 0x098C, 0x555
REG_BURST= 0x990, 0xDD76, 0xF602, 0x5686, 0x163D, 0xC302, 0x618F, 0xEC14, 0x939F
REG= 0x098C, 0x565
REG_BURST= 0x990, 0x30ED, 0x8DC, 0x7693, 0x9D25, 0x8F6, 0x2BC, 0x4F93, 0x7F23
REG= 0x098C, 0x575
REG_BURST= 0x990, 0x3DF6, 0x2BC, 0x4F93, 0x7F23, 0x6F6, 0x2BC, 0x4FDD, 0x7FDC
REG= 0x098C, 0x585
REG_BURST= 0x990, 0x9DDD, 0x76F6, 0x2BC, 0x4F93, 0x7F26, 0xFE6, 0xAC1, 0x226
REG= 0x098C, 0x595
REG_BURST= 0x990, 0x9D6, 0x85C1, 0x8026, 0x314, 0x7401, 0xF602, 0xBC4F, 0x937F
REG= 0x098C, 0x5A5
REG_BURST= 0x990, 0x2416, 0xDE7F, 0x9DF, 0x7F30, 0xEC08, 0xDD76, 0x200A, 0xDC76
REG= 0x098C, 0x5B5
REG_BURST= 0x990, 0xA308, 0x2304, 0xEC08, 0xDD76, 0x1274, 0x122, 0xDE5D, 0xEE14
REG= 0x098C, 0x5C5
REG_BURST= 0x990, 0xAD00, 0x30ED, 0x11EC, 0x6ED, 0x2CC, 0x80, 0xED00, 0x8F30
REG= 0x098C, 0x5D5
REG_BURST= 0x990, 0xED04, 0xEC11, 0xEE04, 0xBDA4, 0x630, 0xE603, 0xD785, 0x30C6
REG= 0x098C, 0x5E5
REG_BURST= 0x990, 0xB3A, 0x3539, 0x3C3C, 0x3C34, 0xCC32, 0x3EBD, 0xA558, 0x30ED
REG= 0x098C, 0x5F5
REG_BURST= 0x990, 0x4BD, 0xB2D7, 0x30E7, 0x6CC, 0x323E, 0xED00, 0xEC04, 0xBDA5
REG= 0x098C, 0x605
REG_BURST= 0x990, 0x44CC, 0x3244, 0xBDA5, 0x585F, 0x30ED, 0x2CC, 0x3244, 0xED00
REG= 0x098C, 0x615
REG_BURST= 0x990, 0xF601, 0xD54F, 0xEA03, 0xAA02, 0xBDA5, 0x4430, 0xE606, 0x3838
REG= 0x098C, 0x625
REG_BURST= 0x990, 0x3831, 0x39BD, 0xD661, 0xF602, 0xF4C1, 0x126, 0xBFE, 0x2BD
REG= 0x098C, 0x635
REG_BURST= 0x990, 0xEE10, 0xFC02, 0xF5AD, 0x39, 0xF602, 0xF4C1, 0x226, 0xAFE
REG= 0x098C, 0x645
REG_BURST= 0x990, 0x2BD, 0xEE10, 0xFC02, 0xF7AD, 0x39, 0x3CBD, 0xB059, 0xCC00
REG= 0x098C, 0x655
REG_BURST= 0x990, 0x28BD, 0xA558, 0x8300, 0x27, 0xBCC, 0x26, 0x30ED, 0xC6
REG= 0x098C, 0x665
REG_BURST= 0x990, 0x3BD, 0xA544, 0x3839, 0xBDD9, 0x42D6, 0x9ACB, 0x1D7, 0x9B39
FIELD_WR=MON_ARG1, 0x415     // hard coded start address of the patch at "patchSetup" 
FIELD_WR=MON_CMD, 1     // execute the patch 
POLL_FIELD=MON_PATCH_ID_0,==0,DELAY=10,TIMEOUT=100     // wait for the patch to complete initialization 

///////////////////////////////////////////////////////////////////////////////
[Low light setting]////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
FIELD_WR= HG_LL_BRIGHTNESSSTART, 13800   // VAR= 11, 0x0028, 13800
FIELD_WR= HG_LL_BRIGHTNESSSTOP, 46000   // VAR= 11, 0x002A, 46000

FIELD_WR= HG_LL_SAT1,           75     // VAR8= 11, 0x0020, 75
FIELD_WR= HG_LL_SAT2,            0      // VAR8= 11, 0x0024, 0
FIELD_WR= HG_LL_INTERPTHRESH2, 255      // VAR8= 11, 0x0025, 255

FIELD_WR= HG_NR_STOP_R, 255             // hg_nr_stop_r
FIELD_WR= HG_NR_STOP_G, 255             // hg_nr_stop_g
FIELD_WR= HG_NR_STOP_B, 255             // hg_nr_stop_b
FIELD_WR= HG_NR_STOP_OL, 87             // VAR8= 11, 0x0033, 128

FIELD_WR= HG_NR_GAINSTART, 128          // VAR8= 11, 0x0034, 128
FIELD_WR= HG_NR_GAINSTOP,  255          // VAR8= 11, 0x0035, 255

FIELD_WR= HG_CLUSTERDC_TH, 20           // HG_CLUSTERDC_TH

FIELD_WR= HG_GAMMA_MORPH_CTRL, 3        // Set to automatic mode

FIELD_WR= HG_GAMMASTARTMORPH, 13000     // HG_GAMMASTARTMORPH @ 100 lux
FIELD_WR= HG_GAMMASTOPMORPH,  31000     // HG_GAMMASTOPMORPH @ 20 lux

FIELD_WR= HG_FTB_START_BM, 0xFFFE        // Disable FTB
FIELD_WR= HG_FTB_STOP_BM,  0xFFFF        // Disable FTB

///////////////////////////////////////////////////////////////////////////////
[max SNR setting]//////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
BITFIELD=0x33F4, 0x0030, 1  // R0x33f4[5] = R0x33f4[4] = 1
VAR8=2, 0x0e, 0xC0   // ae_max_virt_gain = 192
Var=2, 0x12, 0x01ee  // ae_max_d_gain_ae1 = 494
Var8=11, 0x30, 0xff   // hg_nr_stop_r
Var8=11, 0x31, 0xff   // hg_nr_stop_g
Var8=11, 0x32, 0xff   // hg_nr_stop_b
Var8=11, 0x33, 0xff   // hg_nr_stop_ol
Var8=11, 0x35, 0xff   // hg_nr_gain_stop
VAR8=1, 3, 5 // SEQ_CMD = CMD_REFRESH
POLL_FIELD=SEQ_CMD, !=0, DELAY=10, TIMEOUT=100

//saturation controls via CCM
FIELD_WR= HG_LL_BRIGHTNESSSTOP, 16000 	// VAR= 11, 0x002A, 15000
FIELD_WR= HG_LL_SAT1, 90 	// VAR8= 11, 0x0020, 90
FIELD_WR= HG_LL_SAT2, 0 	// VAR8= 11, 0x0024, 0

//saturation controls outside of CCM block
FIELD_WR= MODE_COMMONMODESETTINGS_BRIGHT_COLOR_KILL, 404 // VAR= 7, 0x005F, 406
FIELD_WR= MODE_COMMONMODESETTINGS_DARK_COLOR_KILL, 20 

//make sure NR is set to max
FIELD_WR= HG_NR_GAINSTOP, 192 	// VAR8= 11, 0x0035, 192

//make sure demosaic threshold is set to max
FIELD_WR= HG_LL_INTERPTHRESH2, 255 	// VAR8= 11, 0x0025, 255

//max out cluster defect
VAR8= 11, 0x0036, 0xFF 	// HG_CLUSTERDC_TH

//make change to low_pass_yuv_filter
FIELD_WR= MODE_COMMONMODESETTINGS_FILTER_MODE, 68 	// VAR8= 7, 0x0065, 68

LOAD=change to gamma tables

LOAD=change to gamma morph

//turn off f2b feature
var=11, 0x62, 0xffff
var=11, 0x64, 0xffff

FIELD_WR= SEQ_CMD, 6 	// VAR8= 1, 0x0003, 6

///////////////////////////////////////////////////////////////////////////////
[AWB and CCMs]/////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
FIELD_WR= AWB_CCM_L_0,   0x0180 // AWB_CCM_L_0
FIELD_WR= AWB_CCM_L_1,   0xFF00 // AWB_CCM_L_1
FIELD_WR= AWB_CCM_L_2,   0x0080 // AWB_CCM_L_2
FIELD_WR= AWB_CCM_L_3,   0xFF66 // AWB_CCM_L_3
FIELD_WR= AWB_CCM_L_4,   0x0180 // AWB_CCM_L_4
FIELD_WR= AWB_CCM_L_5,   0xFFEE // AWB_CCM_L_5
FIELD_WR= AWB_CCM_L_6,   0xFFCD // AWB_CCM_L_6
FIELD_WR= AWB_CCM_L_7,   0xFECD // AWB_CCM_L_7
FIELD_WR= AWB_CCM_L_8,   0x019A // AWB_CCM_L_8
FIELD_WR= AWB_CCM_L_9,   0x0020 // AWB_CCM_L_9
FIELD_WR= AWB_CCM_L_10,  0x0033 // AWB_CCM_L_10
FIELD_WR= AWB_CCM_RL_0,  0x0100 // AWB_CCM_RL_0
FIELD_WR= AWB_CCM_RL_1,  0xFF9A // AWB_CCM_RL_1
FIELD_WR= AWB_CCM_RL_2,  0x0000 // AWB_CCM_RL_2
FIELD_WR= AWB_CCM_RL_3,  0x004D // AWB_CCM_RL_3
FIELD_WR= AWB_CCM_RL_4,  0xFFCD // AWB_CCM_RL_4
FIELD_WR= AWB_CCM_RL_5,  0xFFB8 // AWB_CCM_RL_5
FIELD_WR= AWB_CCM_RL_6,  0x004D // AWB_CCM_RL_6
FIELD_WR= AWB_CCM_RL_7,  0x0080 // AWB_CCM_RL_7
FIELD_WR= AWB_CCM_RL_8,  0xFF66 // AWB_CCM_RL_8
FIELD_WR= AWB_CCM_RL_9,  0x0008 // AWB_CCM_RL_9
FIELD_WR= AWB_CCM_RL_10, 0xFFF7 // AWB_CCM_RL_10

FIELD_WR= AWB_TG_MIN0, 210      // AWB_TG_MIN0
FIELD_WR= AWB_TG_MAX0, 238      // AWB_TG_MAX0

REG= 0x3244, 0x0328 	// AWB_CONFIG4, AWB fine tuning
REG= 0x323E, 0xC22C     // AWB_CONFIG1, AWB fine tuning, bits [11-15] controlled by MCU

///////////////////////////////////////////////////////////////////////////////
[EEPROM Lens Correction]///////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
// Note: this LSC is generated manually for this part - DO NOT USE the "FACTORY" label
LOAD_PROM=0xA8, PGA   // load the PGA from the Demo2 on-board EEPROM
BITFIELD=0x3210, 0x0008, 1 //PGA_ENABLE

[Lens Correction for unity gain]
REG=0x3658, 0x0010 //P_RD_P0Q0
REG=0x365A, 0x0000 //P_RD_P0Q1
REG=0x365C, 0x0000 //P_RD_P0Q2
REG=0x365E, 0x0000 //P_RD_P0Q3
REG=0x3660, 0x0000 //P_RD_P0Q4
REG=0x3680, 0x0000 //P_RD_P1Q0
REG=0x3682, 0x0000 //P_RD_P1Q1
REG=0x3684, 0x0000 //P_RD_P1Q2
REG=0x3686, 0x0000 //P_RD_P1Q3
REG=0x3688, 0x0000 //P_RD_P1Q4
REG=0x36A8, 0x0000 //P_RD_P2Q0
REG=0x36AA, 0x0000 //P_RD_P2Q1
REG=0x36AC, 0x0000 //P_RD_P2Q2
REG=0x36AE, 0x0000 //P_RD_P2Q3
REG=0x36B0, 0x0000 //P_RD_P2Q4
REG=0x36D0, 0x0000 //P_RD_P3Q0
REG=0x36D2, 0x0000 //P_RD_P3Q1
REG=0x36D4, 0x0000 //P_RD_P3Q2
REG=0x36D6, 0x0000 //P_RD_P3Q3
REG=0x36D8, 0x0000 //P_RD_P3Q4
REG=0x36F8, 0x0000 //P_RD_P4Q0
REG=0x36FA, 0x0000 //P_RD_P4Q1
REG=0x36FC, 0x0000 //P_RD_P4Q2
REG=0x36FE, 0x0000 //P_RD_P4Q3
REG=0x3700, 0x0000 //P_RD_P4Q4
REG=0x364E, 0x0010 //P_GR_P0Q0
REG=0x3650, 0x0000 //P_GR_P0Q1
REG=0x3652, 0x0000 //P_GR_P0Q2
REG=0x3654, 0x0000 //P_GR_P0Q3
REG=0x3656, 0x0000 //P_GR_P0Q4
REG=0x3676, 0x0000 //P_GR_P1Q0
REG=0x3678, 0x0000 //P_GR_P1Q1
REG=0x367A, 0x0000 //P_GR_P1Q2
REG=0x367C, 0x0000 //P_GR_P1Q3
REG=0x367E, 0x0000 //P_GR_P1Q4
REG=0x369E, 0x0000 //P_GR_P2Q0
REG=0x36A0, 0x0000 //P_GR_P2Q1
REG=0x36A2, 0x0000 //P_GR_P2Q2
REG=0x36A4, 0x0000 //P_GR_P2Q3
REG=0x36A6, 0x0000 //P_GR_P2Q4
REG=0x36C6, 0x0000 //P_GR_P3Q0
REG=0x36C8, 0x0000 //P_GR_P3Q1
REG=0x36CA, 0x0000 //P_GR_P3Q2
REG=0x36CC, 0x0000 //P_GR_P3Q3
REG=0x36CE, 0x0000 //P_GR_P3Q4
REG=0x36EE, 0x0000 //P_GR_P4Q0
REG=0x36F0, 0x0000 //P_GR_P4Q1
REG=0x36F2, 0x0000 //P_GR_P4Q2
REG=0x36F4, 0x0000 //P_GR_P4Q3
REG=0x36F6, 0x0000 //P_GR_P4Q4
REG=0x3662, 0x0010 //P_BL_P0Q0
REG=0x3664, 0x0000 //P_BL_P0Q1
REG=0x3666, 0x0000 //P_BL_P0Q2
REG=0x3668, 0x0000 //P_BL_P0Q3
REG=0x366A, 0x0000 //P_BL_P0Q4
REG=0x368A, 0x0000 //P_BL_P1Q0
REG=0x368C, 0x0000 //P_BL_P1Q1
REG=0x368E, 0x0000 //P_BL_P1Q2
REG=0x3690, 0x0000 //P_BL_P1Q3
REG=0x3692, 0x0000 //P_BL_P1Q4
REG=0x36B2, 0x0000 //P_BL_P2Q0
REG=0x36B4, 0x0000 //P_BL_P2Q1
REG=0x36B6, 0x0000 //P_BL_P2Q2
REG=0x36B8, 0x0000 //P_BL_P2Q3
REG=0x36BA, 0x0000 //P_BL_P2Q4
REG=0x36DA, 0x0000 //P_BL_P3Q0
REG=0x36DC, 0x0000 //P_BL_P3Q1
REG=0x36DE, 0x0000 //P_BL_P3Q2
REG=0x36E0, 0x0000 //P_BL_P3Q3
REG=0x36E2, 0x0000 //P_BL_P3Q4
REG=0x3702, 0x0000 //P_BL_P4Q0
REG=0x3704, 0x0000 //P_BL_P4Q1
REG=0x3706, 0x0000 //P_BL_P4Q2
REG=0x3708, 0x0000 //P_BL_P4Q3
REG=0x370A, 0x0000 //P_BL_P4Q4
REG=0x366C, 0x0010 //P_GB_P0Q0
REG=0x366E, 0x0000 //P_GB_P0Q1
REG=0x3670, 0x0000 //P_GB_P0Q2
REG=0x3672, 0x0000 //P_GB_P0Q3
REG=0x3674, 0x0000 //P_GB_P0Q4
REG=0x3694, 0x0000 //P_GB_P1Q0
REG=0x3696, 0x0000 //P_GB_P1Q1
REG=0x3698, 0x0000 //P_GB_P1Q2
REG=0x369A, 0x0000 //P_GB_P1Q3
REG=0x369C, 0x0000 //P_GB_P1Q4
REG=0x36BC, 0x0000 //P_GB_P2Q0
REG=0x36BE, 0x0000 //P_GB_P2Q1
REG=0x36C0, 0x0000 //P_GB_P2Q2
REG=0x36C2, 0x0000 //P_GB_P2Q3
REG=0x36C4, 0x0000 //P_GB_P2Q4
REG=0x36E4, 0x0000 //P_GB_P3Q0
REG=0x36E6, 0x0000 //P_GB_P3Q1
REG=0x36E8, 0x0000 //P_GB_P3Q2
REG=0x36EA, 0x0000 //P_GB_P3Q3
REG=0x36EC, 0x0000 //P_GB_P3Q4
REG=0x370C, 0x0000 //P_GB_P4Q0
REG=0x370E, 0x0000 //P_GB_P4Q1
REG=0x3710, 0x0000 //P_GB_P4Q2
REG=0x3712, 0x0000 //P_GB_P4Q3
REG=0x3714, 0x0000 //P_GB_P4Q4
REG=0x3644, 0x0000 //POLY_ORIGIN_C (don't care)
REG=0x3642, 0x0000 //POLY_ORIGIN_R (don't care)
STATE=Lens Correction Falloff, 85   // don't care
STATE=Lens Correction Center X, 776   // center of the array
STATE=Lens Correction Center Y, 564   // center of the array
BITFIELD=0x3210, 0x0008, 1 //PGA_ENABLE

[Lens Correction for Largan L992A3; 85% fall off; 10/19/07 17:20:10]
REG=0x3658, 0x7F2F //P_RD_P0Q0
REG=0x365A, 0x812B //P_RD_P0Q1
REG=0x365C, 0x0952 //P_RD_P0Q2
REG=0x365E, 0x3DCC //P_RD_P0Q3
REG=0x3660, 0xD453 //P_RD_P0Q4
REG=0x3680, 0x77A8 //P_RD_P1Q0
REG=0x3682, 0x2E90 //P_RD_P1Q1
REG=0x3684, 0x6530 //P_RD_P1Q2
REG=0x3686, 0xFED1 //P_RD_P1Q3
REG=0x3688, 0xACF3 //P_RD_P1Q4
REG=0x36A8, 0x26F3 //P_RD_P2Q0
REG=0x36AA, 0x0170 //P_RD_P2Q1
REG=0x36AC, 0xE8B5 //P_RD_P2Q2
REG=0x36AE, 0x1A33 //P_RD_P2Q3
REG=0x36B0, 0x9CB2 //P_RD_P2Q4
REG=0x36D0, 0x1371 //P_RD_P3Q0
REG=0x36D2, 0xBC11 //P_RD_P3Q1
REG=0x36D4, 0xC0D2 //P_RD_P3Q2
REG=0x36D6, 0xFF72 //P_RD_P3Q3
REG=0x36D8, 0x9FB7 //P_RD_P3Q4
REG=0x36F8, 0x8955 //P_RD_P4Q0
REG=0x36FA, 0xA2F2 //P_RD_P4Q1
REG=0x36FC, 0xB857 //P_RD_P4Q2
REG=0x36FE, 0xC276 //P_RD_P4Q3
REG=0x3700, 0x2E1B //P_RD_P4Q4
REG=0x364E, 0x0630 //P_GR_P0Q0
REG=0x3650, 0xC24B //P_GR_P0Q1
REG=0x3652, 0x4AB1 //P_GR_P0Q2
REG=0x3654, 0x4A0E //P_GR_P0Q3
REG=0x3656, 0xD813 //P_GR_P0Q4
REG=0x3676, 0x1B89 //P_GR_P1Q0
REG=0x3678, 0xB050 //P_GR_P1Q1
REG=0x367A, 0x22B1 //P_GR_P1Q2
REG=0x367C, 0x0693 //P_GR_P1Q3
REG=0x367E, 0x9BF4 //P_GR_P1Q4
REG=0x369E, 0x0793 //P_GR_P2Q0
REG=0x36A0, 0x9410 //P_GR_P2Q1
REG=0x36A2, 0xFAD5 //P_GR_P2Q2
REG=0x36A4, 0x55F3 //P_GR_P2Q3
REG=0x36A6, 0x5A36 //P_GR_P2Q4
REG=0x36C6, 0x1AF1 //P_GR_P3Q0
REG=0x36C8, 0xFCB0 //P_GR_P3Q1
REG=0x36CA, 0xC4B4 //P_GR_P3Q2
REG=0x36CC, 0x5114 //P_GR_P3Q3
REG=0x36CE, 0x1012 //P_GR_P3Q4
REG=0x36EE, 0xDFB4 //P_GR_P4Q0
REG=0x36F0, 0x35D3 //P_GR_P4Q1
REG=0x36F2, 0x8B56 //P_GR_P4Q2
REG=0x36F4, 0x96F7 //P_GR_P4Q3
REG=0x36F6, 0x633A //P_GR_P4Q4
REG=0x3662, 0x0010 //P_BL_P0Q0
REG=0x3664, 0x36C8 //P_BL_P0Q1
REG=0x3666, 0x1A51 //P_BL_P0Q2
REG=0x3668, 0x888D //P_BL_P0Q3
REG=0x366A, 0x92D3 //P_BL_P0Q4
REG=0x368A, 0x4D8C //P_BL_P1Q0
REG=0x368C, 0x9DF0 //P_BL_P1Q1
REG=0x368E, 0x0B30 //P_BL_P1Q2
REG=0x3690, 0x1B53 //P_BL_P1Q3
REG=0x3692, 0xCB93 //P_BL_P1Q4
REG=0x36B2, 0x73F2 //P_BL_P2Q0
REG=0x36B4, 0xD751 //P_BL_P2Q1
REG=0x36B6, 0xC4F5 //P_BL_P2Q2
REG=0x36B8, 0x0595 //P_BL_P2Q3
REG=0x36BA, 0x67D4 //P_BL_P2Q4
REG=0x36DA, 0x55B1 //P_BL_P3Q0
REG=0x36DC, 0xACD1 //P_BL_P3Q1
REG=0x36DE, 0xC8D4 //P_BL_P3Q2
REG=0x36E0, 0x1874 //P_BL_P3Q3
REG=0x36E2, 0xC816 //P_BL_P3Q4
REG=0x3702, 0x9694 //P_BL_P4Q0
REG=0x3704, 0x6874 //P_BL_P4Q1
REG=0x3706, 0xCC37 //P_BL_P4Q2
REG=0x3708, 0x96F8 //P_BL_P4Q3
REG=0x370A, 0x29DB //P_BL_P4Q4
REG=0x366C, 0x7F0F //P_GB_P0Q0
REG=0x366E, 0x66A3 //P_GB_P0Q1
REG=0x3670, 0x4371 //P_GB_P0Q2
REG=0x3672, 0x6DCD //P_GB_P0Q3
REG=0x3674, 0xD2B3 //P_GB_P0Q4
REG=0x3694, 0x7428 //P_GB_P1Q0
REG=0x3696, 0x0AB0 //P_GB_P1Q1
REG=0x3698, 0x6331 //P_GB_P1Q2
REG=0x369A, 0xCC51 //P_GB_P1Q3
REG=0x369C, 0xC394 //P_GB_P1Q4
REG=0x36BC, 0x0D53 //P_GB_P2Q0
REG=0x36BE, 0x5A0F //P_GB_P2Q1
REG=0x36C0, 0xE675 //P_GB_P2Q2
REG=0x36C2, 0x2AF1 //P_GB_P2Q3
REG=0x36C4, 0x0B76 //P_GB_P2Q4
REG=0x36E4, 0x4CF1 //P_GB_P3Q0
REG=0x36E6, 0x1F51 //P_GB_P3Q1
REG=0x36E8, 0xAAB5 //P_GB_P3Q2
REG=0x36EA, 0xC395 //P_GB_P3Q3
REG=0x36EC, 0x57B6 //P_GB_P3Q4
REG=0x370C, 0xEBB4 //P_GB_P4Q0
REG=0x370E, 0xD1D0 //P_GB_P4Q1
REG=0x3710, 0x94F7 //P_GB_P4Q2
REG=0x3712, 0xCDB6 //P_GB_P4Q3
REG=0x3714, 0x153B //P_GB_P4Q4
REG=0x3644, 0x0304 //POLY_ORIGIN_C
REG=0x3642, 0x0230 //POLY_ORIGIN_R
STATE=Lens Correction Falloff, 85
STATE=Lens Correction Center X, 776
STATE=Lens Correction Center Y, 564
BITFIELD=0x3210, 0x0008, 1 //PGA_ENABLE

[Lens Correction for Largan L992A3; 90% fall off]
REG=0x3658, 0x7FAF //P_RD_P0Q0
REG=0x365A, 0x9BEE //P_RD_P0Q1
REG=0x365C, 0x2972 //P_RD_P0Q2
REG=0x365E, 0x02D0 //P_RD_P0Q3
REG=0x3660, 0xC673 //P_RD_P0Q4
REG=0x3680, 0x880F //P_RD_P1Q0
REG=0x3682, 0x1B70 //P_RD_P1Q1
REG=0x3684, 0x1A12 //P_RD_P1Q2
REG=0x3686, 0xF132 //P_RD_P1Q3
REG=0x3688, 0xCA32 //P_RD_P1Q4
REG=0x36A8, 0x2833 //P_RD_P2Q0
REG=0x36AA, 0x700F //P_RD_P2Q1
REG=0x36AC, 0xCF35 //P_RD_P2Q2
REG=0x36AE, 0x3D14 //P_RD_P2Q3
REG=0x36B0, 0x2AF2 //P_RD_P2Q4
REG=0x36D0, 0x67B0 //P_RD_P3Q0
REG=0x36D2, 0x4731 //P_RD_P3Q1
REG=0x36D4, 0xB372 //P_RD_P3Q2
REG=0x36D6, 0xE615 //P_RD_P3Q3
REG=0x36D8, 0x14F7 //P_RD_P3Q4
REG=0x36F8, 0x9D94 //P_RD_P4Q0
REG=0x36FA, 0x0B52 //P_RD_P4Q1
REG=0x36FC, 0x9D37 //P_RD_P4Q2
REG=0x36FE, 0xDD17 //P_RD_P4Q3
REG=0x3700, 0x00BB //P_RD_P4Q4
REG=0x364E, 0x0790 //P_GR_P0Q0
REG=0x3650, 0xD90C //P_GR_P0Q1
REG=0x3652, 0x5EF1 //P_GR_P0Q2
REG=0x3654, 0x0C0F //P_GR_P0Q3
REG=0x3656, 0xC3D3 //P_GR_P0Q4
REG=0x3676, 0xF90E //P_GR_P1Q0
REG=0x3678, 0x9CD0 //P_GR_P1Q1
REG=0x367A, 0x3431 //P_GR_P1Q2
REG=0x367C, 0x7D71 //P_GR_P1Q3
REG=0x367E, 0x48D1 //P_GR_P1Q4
REG=0x369E, 0x0673 //P_GR_P2Q0
REG=0x36A0, 0x0952 //P_GR_P2Q1
REG=0x36A2, 0x80D6 //P_GR_P2Q2
REG=0x36A4, 0xAC54 //P_GR_P2Q3
REG=0x36A6, 0x3457 //P_GR_P2Q4
REG=0x36C6, 0x1950 //P_GR_P3Q0
REG=0x36C8, 0xA211 //P_GR_P3Q1
REG=0x36CA, 0x0315 //P_GR_P3Q2
REG=0x36CC, 0x4895 //P_GR_P3Q3
REG=0x36CE, 0xE077 //P_GR_P3Q4
REG=0x36EE, 0xA994 //P_GR_P4Q0
REG=0x36F0, 0x8D54 //P_GR_P4Q1
REG=0x36F2, 0xB993 //P_GR_P4Q2
REG=0x36F4, 0xF755 //P_GR_P4Q3
REG=0x36F6, 0x14BA //P_GR_P4Q4
REG=0x3662, 0x0130 //P_BL_P0Q0
REG=0x3664, 0x85AB //P_BL_P0Q1
REG=0x3666, 0x2EB1 //P_BL_P0Q2
REG=0x3668, 0x1BAB //P_BL_P0Q3
REG=0x366A, 0x8353 //P_BL_P0Q4
REG=0x368A, 0x93CF //P_BL_P1Q0
REG=0x368C, 0x9F70 //P_BL_P1Q1
REG=0x368E, 0x0FB2 //P_BL_P1Q2
REG=0x3690, 0x2692 //P_BL_P1Q3
REG=0x3692, 0xE2D2 //P_BL_P1Q4
REG=0x36B2, 0x0253 //P_BL_P2Q0
REG=0x36B4, 0x6911 //P_BL_P2Q1
REG=0x36B6, 0xFA75 //P_BL_P2Q2
REG=0x36B8, 0x8094 //P_BL_P2Q3
REG=0x36BA, 0x2CB7 //P_BL_P2Q4
REG=0x36DA, 0x0930 //P_BL_P3Q0
REG=0x36DC, 0x9550 //P_BL_P3Q1
REG=0x36DE, 0x6294 //P_BL_P3Q2
REG=0x36E0, 0x40B4 //P_BL_P3Q3
REG=0x36E2, 0x8E97 //P_BL_P3Q4
REG=0x3702, 0x9974 //P_BL_P4Q0
REG=0x3704, 0x83B4 //P_BL_P4Q1
REG=0x3706, 0x0293 //P_BL_P4Q2
REG=0x3708, 0x8EB6 //P_BL_P4Q3
REG=0x370A, 0x07FA //P_BL_P4Q4
REG=0x366C, 0x00D0 //P_GB_P0Q0
REG=0x366E, 0xF6AD //P_GB_P0Q1
REG=0x3670, 0x5191 //P_GB_P0Q2
REG=0x3672, 0x11D0 //P_GB_P0Q3
REG=0x3674, 0xBDD3 //P_GB_P0Q4
REG=0x3694, 0x838F //P_GB_P1Q0
REG=0x3696, 0x28D0 //P_GB_P1Q1
REG=0x3698, 0x52F1 //P_GB_P1Q2
REG=0x369A, 0x8CF3 //P_GB_P1Q3
REG=0x369C, 0x2972 //P_GB_P1Q4
REG=0x36BC, 0x12F3 //P_GB_P2Q0
REG=0x36BE, 0x6ED0 //P_GB_P2Q1
REG=0x36C0, 0x8096 //P_GB_P2Q2
REG=0x36C2, 0x9411 //P_GB_P2Q3
REG=0x36C4, 0x2057 //P_GB_P2Q4
REG=0x36E4, 0x5570 //P_GB_P3Q0
REG=0x36E6, 0xBF30 //P_GB_P3Q1
REG=0x36E8, 0x1015 //P_GB_P3Q2
REG=0x36EA, 0x66B3 //P_GB_P3Q3
REG=0x36EC, 0xF8F7 //P_GB_P3Q4
REG=0x370C, 0xCED4 //P_GB_P4Q0
REG=0x370E, 0x2393 //P_GB_P4Q1
REG=0x3710, 0x9955 //P_GB_P4Q2
REG=0x3712, 0xE717 //P_GB_P4Q3
REG=0x3714, 0x371A //P_GB_P4Q4
REG=0x3644, 0x02EC //POLY_ORIGIN_C
REG=0x3642, 0x0230 //POLY_ORIGIN_R
STATE=Lens Correction Falloff, 90
STATE=Lens Correction Center X, 752
STATE=Lens Correction Center Y, 564
BITFIELD=0x3210, 0x0008, 1 //PGA_ENABLE

///////////////////////////////////////////////////////////////////////////////
[Lens Calibration Setup]///////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
VAR= 7, 0x0017, 0x046C 	// MODE_SENSOR_READ_MODE_A Turn off Flip/Mirror
VAR= 7, 0x002D, 0x0024 	// MODE_SENSOR_READ_MODE_B
var8=1, 0x02, 0x000   // turn off AE, AWB, Flicker, and histogram
REG=0x3210, 0x0100    // turn off scaler, gamma, ccm, aperture, shading correction
delay=10
REG=0x3330, 0x0140    // enable 8+2 bypass and shading correction bypass
delay=10
var8=1, 0x15, 0x02    // enable video mode in context B
var8=1, 0x03, 0x02    // goto context B


[Lens Calibration Setup for Mipi bayer10]
LOAD=Demo Initialization MIPI Bayer- Dual Lane Mipi adaptor board
VAR= 7, 0x0017, 0x046C 	// MODE_SENSOR_READ_MODE_A Turn off Flip/Mirror
VAR= 7, 0x002D, 0x0024 	// MODE_SENSOR_READ_MODE_B
var8=1, 0x02, 0x000   // turn off AE, AWB, Flicker, and histogram
REG=0x3210, 0x0100    // turn off scaler, gamma, ccm, aperture, shading correction
delay=10
FIELD_WR=OUTPUT_FORMAT_TEST, USE_LC, 1    // enable shading correction bypass


///////////////////////////////////////////////////////////////////////////////
[AWB CCM Calibration setup]////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
VAR=11, 0x04, 0x0000 	// turn off histogram stretch HG_MAX_DLEVEL
VAR=3, 0x55, 0x0021 	// set digital gain to unity AWB_MODE *** AWB New Limits keep setting to 1 ***
VAR=1, 0x02, 0x0000 	// turn off AWB, AE, FD, and HG SEQ_MODE
var=1, 0x1d, 0x0000     // turn off AE in PREVIEW state
var=1, 0x1e, 0x0000     // turn off FD in PREVIEW state
var=1, 0x1f, 0x0000     // turn off AWB in PREVIEW state
var=1, 0x20, 0x0000     // turn off HG in PREVIEW state
var=1, 0x03, 0x0005     // REFRESH
POLL_FIELD=SEQ_CMD, !=0, DELAY=10, TIMEOUT=100
BITFIELD=0x3210, 0x00A0, 0 // turn off gamma correction and color correction
REG=0x3028, 0x0008 	   // set global analog gain to unity ANALOGUE_GAIN_CODE_GLOBAL

///////////////////////////////////////////////////////////////////////////////
[Viewfinder ON]////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
FIELD_WR = SEQ_CAP_MODE, VIDEO, 0     //capture parameters, VIDEO Off
FIELD_WR = SEQ_CMD, 1          //Back to preview

///////////////////////////////////////////////////////////////////////////////
[Viewfinder OFF]///////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
FIELD_WR = SEQ_CAP_MODE, VIDEO, 1     //capture parameters, VIDEO On
FIELD_WR = SEQ_CMD, 2          //Capture on

///////////////////////////////////////////////////////////////////////////////
[Video Capture ON]/////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
FIELD_WR = SEQ_CAP_MODE, VIDEO, 1     //capture parameters, VIDEO On
FIELD_WR = SEQ_CMD, 2          //Capture on

///////////////////////////////////////////////////////////////////////////////
[Video Capture ON with Auto Functions]/////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
FIELD_WR = SEQ_CAP_MODE, VIDEO, 1     //capture parameters, VIDEO On
FIELD_WR = SEQ_CAP_MODE, VIDEO_AE_ON, 1     //capture parameters, AE On
FIELD_WR = SEQ_CAP_MODE, VIDEO_AWB_ON, 1     //capture parameters, AWB On
FIELD_WR = SEQ_CAP_MODE, VIDEO_HG_ON, 1     //capture parameters, HG On
FIELD_WR = SEQ_CMD, 2          //Go Capture
POLL_FIELD=SEQ_CMD, !=0, DELAY=10, TIMEOUT=100

///////////////////////////////////////////////////////////////////////////////
[Video Capture OFF]////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
FIELD_WR = SEQ_CMD, 1          //Back to preview

///////////////////////////////////////////////////////////////////////////////
[2D aperture correction Disable]///////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
FIELD_WR=HG_LLMODE, CLUSTERDC_VS_GAINS, 0   // turn off ClusterDC vs Gains
var=1, 0x03, 0x0005   // REFRESH
POLL_FIELD=SEQ_CMD, !=0, DELAY=10, TIMEOUT=100
BITFIELD=0x3210, 0x0010, 0

///////////////////////////////////////////////////////////////////////////////
[2D aperture correction Enable]////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
FIELD_WR=HG_LLMODE, CLUSTERDC_VS_GAINS, 1   // turn on ClusterDC vs Gains and let FW controls it
var=1, 0x03, 0x0005   // REFRESH
POLL_FIELD=SEQ_CMD, !=0, DELAY=10, TIMEOUT=100

///////////////////////////////////////////////////////////////////////////////
[Color Bar Test Pattern Disable]///////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
FIELD_WR = MODE_COMMONMODESETTINGS_TEST_MODE, 0x00	//(0) MODE_COMMONMODESETTINGS_TEST_MODE
FIELD_WR = SEQ_CMD, 0x05	//(5) REFRESH
POLL_FIELD=SEQ_CMD, !=0, DELAY=10, TIMEOUT=100

///////////////////////////////////////////////////////////////////////////////
[Color Bar Test Pattern: flat field]///////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
FIELD_WR = MODE_COMMONMODESETTINGS_TEST_MODE, 0x01	//(1) MODE_COMMONMODESETTINGS_TEST_MODE
FIELD_WR = SEQ_CMD, 0x05	//(5) REFRESH
POLL_FIELD=SEQ_CMD, !=0, DELAY=10, TIMEOUT=100

///////////////////////////////////////////////////////////////////////////////
[Color Bar Test Pattern: vertical ramp]////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
FIELD_WR = MODE_COMMONMODESETTINGS_TEST_MODE, 0x02	//(2) MODE_COMMONMODESETTINGS_TEST_MODE
FIELD_WR = SEQ_CMD, 0x05	//(5) REFRESH
POLL_FIELD=SEQ_CMD, !=0, DELAY=10, TIMEOUT=100

///////////////////////////////////////////////////////////////////////////////
[Color Bar Test Pattern: color bar ramp]///////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
FIELD_WR = MODE_COMMONMODESETTINGS_TEST_MODE, 0x03	//(3) MODE_COMMONMODESETTINGS_TEST_MODE
FIELD_WR = SEQ_CMD, 0x05	//(5) REFRESH
POLL_FIELD=SEQ_CMD, !=0, DELAY=10, TIMEOUT=100

///////////////////////////////////////////////////////////////////////////////
[Color Bar Test Pattern: vertical strips]//////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
FIELD_WR = MODE_COMMONMODESETTINGS_TEST_MODE, 0x04	//(4) MODE_COMMONMODESETTINGS_TEST_MODE
FIELD_WR = SEQ_CMD, 0x05	//(5) REFRESH
POLL_FIELD=SEQ_CMD, !=0, DELAY=10, TIMEOUT=100

///////////////////////////////////////////////////////////////////////////////
[Color Bar Test Pattern: pseudo random]////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
FIELD_WR = MODE_COMMONMODESETTINGS_TEST_MODE, 0x05	//(5) MODE_COMMONMODESETTINGS_TEST_MODE
FIELD_WR = SEQ_CMD, 0x05	//(5) REFRESH
POLL_FIELD=SEQ_CMD, !=0, DELAY=10, TIMEOUT=100

///////////////////////////////////////////////////////////////////////////////
[Color Bar Test Pattern: horizontal strips]////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
FIELD_WR = MODE_COMMONMODESETTINGS_TEST_MODE, 0x06	//(6) MODE_COMMONMODESETTINGS_TEST_MODE
FIELD_WR = SEQ_CMD, 0x05	//(5) REFRESH
POLL_FIELD=SEQ_CMD, !=0, DELAY=10, TIMEOUT=100


[Enter mipi STDBY]
FIELD_WR=MIPI_CONTROL, STANDBY_EN, 1 // set standby_en
//POLL_REG = 0x3402,0x0001,!=0x0001,DELAY=10,TIMEOUT=1000


[Exit mipi STDBY]
FIELD_WR=MIPI_CONTROL, STANDBY_EN, 0 // clear standby_en
